{% extends 'base.html' %}
{% load static %}

{% block content %}


<div class="container" style="background-color: white; padding: 50px; margin-top: 100px;">
	<h1>Sinro Embedded Faces</h1>
	<hr>
	<div class="container">
		<a class="btn btn-primary"  href="{% url 'identify' %}" style="font-size: 20px; margin-bottom: 10px;">Identify Faces</a>
		<a class="btn btn-primary"  href="{% url 'detected' %}" style="font-size: 20px; margin-bottom: 10px;">Detected in Faces</a>
		<a class="btn btn-primary"  href="{% url 'detected_out' %}" style="font-size: 20px; margin-bottom: 10px;">Detected out Faces</a>
		<a class="btn btn-primary" href="{% url 'add_emp' %}" style="font-size: 20px; margin-bottom: 10px;">add_emp</a>
		<a class="btn btn-primary"  href="{% url 'add_photos' %}" style="font-size: 20px; margin-bottom: 10px;">Add photos</a>
		<a id="train-model-btn" class="btn btn-primary" href="{% url 'train_model' %}" style="font-size: 20px; margin-bottom: 10px;">Train model</a>
		<!-- Add a <span> element to display the message -->
		<span id="train-status" style="font-size: 20px;"></span>

    <script>
        document.getElementById('train-model-btn').addEventListener('click', trainModel);

        function trainModel() {
            document.getElementById('train-status').innerText = "Training in progress. Please wait...";

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
           			 document.getElementById('train-status').innerText = "Oyeah Done";
                }
            };
            xhttp.open('GET', '/app/train_model/', true);
            xhttp.send();
        }
    </script>
		<a class="btn btn-primary"  href="{% url 'attendece_rep' %}" style="font-size: 20px; margin-bottom: 10px;">report</a>
		<a class="btn btn-primary"  href="{% url 'attendece_rep2' %}" style="font-size: 20px; margin-bottom: 10px;">report2</a>
		<a class="btn btn-primary"  href="{% url 'employee_view' %}" style="font-size: 20px; margin-bottom: 10px;">employees</a>
		<a class="btn btn-primary"  href="{% url 'Content_admin' %}" style="font-size: 20px; margin-bottom: 10px;">Messages-admin</a>
		<a class="btn btn-primary"  href="{% url 'attendance_list' %}" style="font-size: 20px; margin-bottom: 10px;">attendance</a>
		<a class="btn btn-primary"  href="{% url 'admin:index' %}" style="font-size: 20px; margin-bottom: 10px;">admin panel</a>
		<a class="btn btn-primary"  href="{% url 'login_view' %}" style="font-size: 20px; margin-bottom: 10px;">logout</a>
	</div>
<div class="container">
  <div id="message-container">
    <h1>{{message}}</h1>
  </div>
</div>
<script>
	setTimeout(function() {
	    var messageContainer=document.getElementById('message-container');
	    messageContainer.style.display='none';
	}, 5000);
</script>
{% endblock %}